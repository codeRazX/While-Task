(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var a=e.g.document;if(!t&&a&&(a.currentScript&&"SCRIPT"===a.currentScript.tagName.toUpperCase()&&(t=a.currentScript.src),!t)){var o=a.getElementsByTagName("script");if(o.length)for(var s=o.length-1;s>-1&&(!t||!/^http(s?):/.test(t));)t=o[s--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=function(){const e=document.getElementById("board-container"),t=document.getElementById("form"),a=document.getElementById("modal"),o=document.getElementById("modal-edit"),s=o.querySelector("#form__edit"),i=a.querySelector(".modal__close"),n=document.getElementById("overlay"),d=document.getElementById("add-btn"),r=e.querySelectorAll('[data-item="container"]'),l=document.getElementById("default-message"),c=document.getElementById("add-notes-edit"),u=document.getElementById("edit-submit"),m=document.getElementById("edit-dateCompleted"),_=document.getElementById("board-panel"),p=_.querySelector("#form-filter"),h=document.getElementById("nav-header").querySelectorAll("H2"),g={title:"title",description:"description",priority:"priority",duedate:"duedate",timeDuedate:"timeDuedate",status:"status",note:"note"},f={openMenu:"openMenu",view:"view",completed:"completed",deleteTask:"deleteTask",switchStatus:"switchStatus",switchPriority:"switchPriority",addNote:"addNote",openNote:"openNote",deleteNote:"deleteNote"};return{containerTask:r,modal:a,overlay:n,btnAdd:d,form:t,maxLengthViewport:()=>100,maxLengthTitle:()=>250,maxLengthDescription:()=>1e3,board:e,key:()=>"task",pending:()=>"pending",progress:()=>"progress",defaultMessage:l,actions:()=>f,btnCloseModal:i,modalEdit:o,formEdit:s,maxLengthNote:()=>1500,offsetScroll:10,addNoteEdit:c,subtmitBtnEdit:u,dateCompletedEdit:m,boardPanel:_,formFilter:p,titlesHeader:h,properties:()=>g}}(),a=t,o=()=>JSON.parse(localStorage.getItem(a.key()))||[],s=e=>localStorage.setItem(a.key(),JSON.stringify(e)),i=e=>e.charAt(0).toUpperCase()+e.slice(1),n=e=>e.style.display="block",d=e=>e.style.display="none",r=(e,t,a)=>e.classList.replace(t,a),l=e=>e.forEach((e=>e.classList.add("disabled__input"))),c=(e,t,a=!1,o="")=>e.length>=t?a?(K("error",o,"Maximum allowed characters"),e.slice(0,t).trim()):e.slice(0,t).trim()+"...":e,u=e=>new Promise((t=>setTimeout(t,e))),m=e=>{e.value.length>100?e.style.height="auto":e.style.height="2rem",e.style.height=e.scrollHeight+"px"},_=e=>e.scrollIntoView({behavior:"smooth",block:"center"}),p=(e,t="",a="",o="",s="",...i)=>{const n=document.createElement(e);return t&&(n.className=t),o&&(n.src=o),s&&(n.alt=s),a&&(n.textContent=a),i&&n.append(...i),n},h=(e,t=!1)=>{if(t)for(;e.firstChild;)e.removeChild(e.firstChild);else e.forEach((e=>{if(e.childElementCount>=1)for(;e.firstChild;)e.removeChild(e.firstChild)}))},g=()=>(new Date).toLocaleDateString(void 0,{year:"numeric",month:"2-digit",day:"2-digit"}),f=e=>{if(!e)return;const t=new Date;let a;if(a=e.includes("-")?new Date(e):new Date(t.toDateString()+" "+e),!e.includes(":")&&a.setHours(0,0,0,0),isNaN(a))return{days:0,hours:0,minutes:0,seconds:0};const o=t.getTime(),s=a.getTime()-o;if(s<=0)return{days:0,hours:0,minutes:0,seconds:0};const i=Math.floor(s/1e3),n=Math.floor(i/60),d=Math.floor(n/60);return{days:Math.floor(d/24),hours:d%24,minutes:n%60,seconds:i%60}},y=e=>Object.fromEntries(new FormData(e)),v=e.p+"img/context-menu840f089dbe7a376a6de1.svg",k=e.p+"img/infoc63f6943390f08404a1f.svg",b=e.p+"img/check9220e469aeb4de294c4d.svg",E=e.p+"img/delete3590c718fc3929137573.svg",T=e.p+"img/toggle-statusd138c83835bf13d83e77.svg",w=e.p+"img/toggle-priority340885cd505c86251b78.svg",D=e.p+"img/add-notes5b22ed3b65e95d73f1b4.svg",N=e.p+"img/more-notes5dceef46b50501579e47.svg",C=e.p+"img/delete-notes926934ab85ba14886429.svg";class S{constructor({title:e,description:t,duedate:a,priority:o,note:s="",id:n,date:d,status:r,dateCompleted:l,isNew:c,timeDuedate:u,completedDuedate:m,sortDate:_=""}){this.title=i(e),this.description=i(t),this.duedate=a||(e=>{if(e)return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"2-digit",day:"2-digit"})})(a),this.priority=parseInt(o),this.note=s,this.id=n||Date.now(),this.date=d||(()=>{const e=new Date,t=e.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"2-digit",day:"2-digit"}),a=e.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return i(`${t} - ${a}`)})(),this.status=r||"pending",this.dateCompleted=l,this.timeDuedate=u,this.isNew=void 0===c||c,this.completedDuedate=m||(a&&u?`${a} ${u}`:a||u),this.sortDate=_||new Date}menuView=()=>{const e=p("IMG","","",k,"Icon view");e.loading="lazy";const t=p("P","","View/Edit"),o=p("DIV","task__modal__menu__option","","","",e,t);return o.dataset.action=a.actions().view,o};menuStatus=()=>{const e=p("P","","Change Status"),t=p("IMG","","",T,"Icon Status");t.loading="lazy";const o=p("DIV","task__modal__menu__option","","","",t,e);return o.dataset.action=a.actions().switchStatus,o};menuPriority=()=>{if("completed"!==this.status){const e=p("P","","Change Priority"),t=p("IMG","","",w,"Icon Priority");t.loading="lazy";const o=p("DIV","task__modal__menu__option","","","",t,e);return o.dataset.action=a.actions().switchPriority,o}return""};menuCompleted=()=>{if("completed"!==this.status){const e=p("IMG","","",b,"Icon Completed");e.loading="lazy";const t=p("P","","Mark as Completed"),o=p("DIV","task__modal__menu__option","","","",e,t);return o.dataset.action=a.actions().completed,o}return""};menuRemove=()=>{const e=p("IMG","","",E,"Icon Remove");e.loading="lazy";const t=p("P","","Remove"),o=p("DIV","task__modal__menu__option","","","",e,t);return o.dataset.action=a.actions().deleteTask,o};blockMenu=()=>{const e=p("IMG","","",v,"Icon Menu");e.loading="lazy";const t=p("DIV","task__modal__menu disabled");t.append(this.menuView(),this.menuStatus(),this.menuPriority(),this.menuCompleted(),this.menuRemove()),t.classList.add("task__modal__menu","disabled");const o=p("DIV","task__modal","","","",e,t);return e.dataset.action=a.actions().openMenu,o};subBlockDate=()=>{const e=p("SPAN","",this.date),t=p("P","","Date Added","","",e),a=p("DIV","task__date__current","","","",t),o=p("DIV","task__date","","","",a);if(this.completedDuedate&&"completed"!==this.status){const e=p("DIV","task__date__duedate"),t=f(this.completedDuedate);if(0!==t.days){const a=p("SPAN","task__date__duedate__field__time",t.days),o=p("P","","Days"),s=p("DIV","task__date__duedate__field","","","",a,o);e.append(s)}if(0!==t.hours){const a=p("SPAN","task__date__duedate__field__time",t.hours),o=p("P","","Hours"),s=p("DIV","task__date__duedate__field","","","",a,o);e.appendChild(s)}if(0!==t.minutes){const a=p("SPAN","task__date__duedate__field__time",t.minutes),o=p("P","","Minutes"),s=p("DIV","task__date__duedate__field","","","",a,o);e.appendChild(s)}if(t.days<=0&&t.hours<=0&&t.minutes<=0&&t.seconds>0){const a=p("SPAN","task__date__duedate__field__time",t.seconds),o=p("P","","Seconds"),s=p("DIV","task__date__duedate__field","","","",a,o);e.appendChild(s)}!(t.days<=0&&t.hours<=0&&t.minutes<=0&&t.seconds<=0)&&o.appendChild(e)}return o};subBlockTitle=()=>{const e=p("SPAN","",c(this.title,a.maxLengthViewport()));return p("P","","Title","","",e)};subBlockDescription=()=>{const e=p("SPAN","",c(this.description,a.maxLengthViewport()));return p("P","","Description","","",e)};subBlockNotes=()=>{const e=p("IMG","task__notes__container__img","",D,"Icon Note");e.loading="lazy";const t=p("P","","Notes"),o=p("DIV","task__notes__container"),i=p("DIV","task__notes","","","",t,o);return e.dataset.action=a.actions().addNote,"completed"===this.status&&(this.note.splice(0,this.note.length),e.classList.add("disabled__widget")),this.note.length>=1&&(this.note.forEach(((e,t)=>{if(t<5){const s=p("SPAN","",t+1),i=p("DIV","task__notes__block__note","","","",s),n=p("IMG","","",C,"Icon Delete Notes"),d=p("DIV","task__notes__block__delete","","","",n),r=p("DIV","task__notes__block","","","",i,d);e.id=t+1,r.dataset.id=e.id,i.dataset.action=a.actions().openNote,d.dataset.action=a.actions().deleteNote,e.isNew&&(r.classList.add("appear"),e.isNew=!1),o.appendChild(r)}else if(5===t){const t=p("IMG","icon__note__more","",N,"Icon more notes");e.countNote!==this.note.length&&t.classList.add("appear"),o.appendChild(t)}e.countNote=this.note.length})),s(I.getTask())),o.append(e),i};blockInfo=()=>p("DIV","task__info","","","",this.subBlockDate(),this.subBlockTitle(),this.subBlockDescription(),this.subBlockNotes());completedResults=()=>{if("completed"===this.status){const e=p("SPAN","",this.dateCompleted);return p("P","task__completed__date","Task Completed on: ","","",e)}return""};checkPriority=e=>{1===this.priority?(e.textContent="high",e.style.backgroundColor="#fc412c"):2===this.priority?(e.textContent="medium",e.style.backgroundColor="#ffae19"):3===this.priority&&(e.textContent="low",e.style.backgroundColor="#9ad4fa")};priorityEL=()=>{if("completed"!==this.status){const e=p("SPAN","task__priority",this.priority);return this.checkPriority(e),e}return""};create=()=>{const e=p("DIV","task","","","",this.priorityEL(),this.completedResults(),this.blockInfo(),this.blockMenu());e.dataset.id=this.id,this.logicPropertiesCompleted(e),a.containerTask.forEach((t=>{t.id===this.status&&t.appendChild(e)})),this.isNew&&(e.classList.add("task__anim"),_(e),this.isNew=!1,setTimeout((()=>e.classList.remove("task__anim")),500),s(I.getTask()))};delete=()=>{const e=I.getTask().filter((e=>e.id!==this.id));s(e),I.getUpdateTask()};edit=e=>{if(e){for(const t in e){const a=t.split("-")[1];this.hasOwnProperty(a)&&"date"!==a&&(this[a]=e[t])}I.updateDataTask()}};markAsCompleted=()=>{this.status="completed",this.dateCompleted=g(),I.updateDataTask()};switchStatus=e=>{this.status!==e&&(this.status=e,I.updateDataTask())};switchPriority=e=>{this.priority!==e&&(this.priority=e,I.updateDataTask())};dataPriority=()=>[1,2,3].filter((e=>e!==this.priority)).map((e=>1===e?"High":2===e?"Medium":3===e?"Low":void 0));getStatus=()=>this.status;setValueNew=e=>{this.isNew=e};pushNote=e=>{""!==e&&(this.note.push({note:i(e),isNew:!0}),I.updateDataTask())};deleteNote=e=>{const t=this.note.filter((t=>t.id!==parseInt(e.dataset.id)));this.note=[...t],I.updateDataTask()};viewNote=e=>this.note[this.note.findIndex((t=>t.id===parseInt(e.dataset.id)))].note;getNotes=()=>this.note.length;logicPropertiesCompleted=e=>{"completed"===this.status?(this.duedate="",this.timeDuedate="",this.completedDuedate="",e.classList.add("task__completed")):"completed"!==this.status&&this.dateCompleted&&(this.dateCompleted="")}}const I=function(){const e=[];let t=!1;const i=(t=e)=>{h(a.containerTask),t.length>=1&&(r(t),t.forEach((e=>{e.create()})),d())},n=()=>{o().length>=1?e.splice(0,e.length,...o().map((e=>new S(e)))):e.splice(0,e.length)},d=()=>{t=e.some((e=>e.completedDuedate)),t&&ne()},r=e=>{e.sort(((e,t)=>{if(e.priority!==t.priority)return e.priority-t.priority;const a=new Date(e.sortDate);return new Date(t.sortDate).getTime()-a.getTime()}))};return n(),{getTask:()=>e,setTask:t=>e.push(t),printTask:i,currentTask:t=>e[e.findIndex((e=>e.id===parseInt(t)))],getUpdateTask:n,updateDataTask:()=>{s(e),n(),i()},isRenderingControl:()=>t,clearTask:()=>e.splice(0,e.length)}}(),L=a.formEdit,P=a.dateCompletedEdit,A=L.querySelector("#edit-container-notes"),x=L.querySelector(".form__edit__delete__duedate"),V=document.getElementById("edit__default__message"),B=Object.keys(y(L)).map((e=>L[e])).filter((e=>"edit-status"!==e.id)),M=e=>{"completed"===e.status?(r(P,"disabled","active"),P.value=e.dateCompleted,l(B),V.textContent="*This task is marked as completed. To edit it, change its status"):(r(P,"active","disabled"),B.every((e=>e.classList.contains("disabled__input")))&&B.forEach((e=>e.classList.remove("disabled__input"))),V.textContent="*You can click on a property to edit it"),e.completedDuedate?(r(x,"disabled","active"),x.onclick=()=>{"completed"!==L["edit-status"].value&&(L["edit-duedate"].value="",L["edit-timeDuedate"].value="",e.completedDuedate="",a.subtmitBtnEdit.disabled=!1)}):r(x,"active","disabled")},q=e=>{if(h(A,!0),0===e.note.length){const e=p("P","form__edit__value form__edit__value__notes__defaut","No notes stored");A.appendChild(e)}else e.note.forEach((e=>{$(e.note,e.id)}))},H=(e,t)=>{t.id.includes("title")?t.value=c(e,a.maxLengthTitle(),!0,t.parentElement):t.id.includes("description")?t.value=c(e,a.maxLengthDescription(),!0,t.parentElement):t.classList.contains("note__edit")&&(t.value=c(e,a.maxLengthNote(),!0,t.parentElement))},F=e=>{const t=e.target,a=L.scrollTop,o=L.scrollHeight,s=L.clientHeight;if("TEXTAREA"===t.tagName){e.preventDefault();let i=e.clipboardData.getData("text"),n=t.value.slice(0,t.selectionStart)+i+t.value.slice(t.selectionStart);H(n,t),m(t),R(a,o,s)}},R=(e,t,o)=>{t-e-o<a.offsetScroll&&(L.scrollTop=t)},$=(e,t)=>{const a=p("TEXTAREA","form__edit__value note__edit");a.value=e;const o=p("div","form__edit__value__note","","","",a);return a.dataset.id=t,A.appendChild(o),o},O=e=>{const t=e.target,o=L.scrollTop,s=L.scrollHeight,i=L.clientHeight;t.matches("TEXTAREA")&&m(e.target),H(t.value,t),a.subtmitBtnEdit.disabled&&(a.subtmitBtnEdit.disabled=!1),R(o,s,i)},G=e=>{if(e.target===a.subtmitBtnEdit){if(!(()=>{let e=!0;return[L["edit-title"],L["edit-description"]].forEach((t=>{""===t.value.trim()&&(K("error",t.parentElement,"This field is required"),e=!1)})),e})())return;(()=>{const e=y(L),t=A.querySelectorAll("[data-id]");t.length>0&&(e["edit-note"]=[],t.forEach((t=>{""!==t.value&&e["edit-note"].push({note:i(t.value),isNew:!0})})));const o=I.currentTask(a.modalEdit.dataset.task);o.setValueNew(!0),o.edit(e)})(),Z()}else e.target===a.addNoteEdit&&"completed"!==L["edit-status"].value&&(()=>{const e=A.querySelectorAll("[data-id]").length,t=A.querySelector(".form__edit__value__notes__defaut");t&&t.remove();const a=$("Write your note here!",e+1);a&&a.classList.add("appearNote"),m(a.firstChild),_(a)})()},Y=e=>{"edit-status"===e.target.id&&(ee(e.target.value),(e=>{if("completed"===e.value){if("completed"===e.value){const e=g();P.value=e,L["edit-duedate"].value="",L["edit-timeDuedate"].value="",l(B),P.classList.contains("disabled")&&r(P,"disabled","active"),V.textContent="*This task is marked as completed. To edit it, change its status"}}else P.classList.contains("active")&&(r(P,"active","disabled"),B.forEach((e=>e.classList.remove("disabled__input"))),P.value="",V.textContent="*You can click on a property to edit it")})(e.target))},X=e=>{const t=e.target;t.id.includes("title")?t.value=c(t.value,a.maxLengthTitle(),!0,t.parentElement):t.id.includes("description")?t.value=c(t.value,a.maxLengthDescription(),!0,t.parentElement):t.id.includes("note")&&(t.value=c(t.value,a.maxLengthNote(),!0,t.parentElement))},z=e=>{e.preventDefault();const t=y(e.target);t.note=""!==t.note?[{note:i(a.form.note.value.trim()),isNew:!0}]:[],(e=>{let t=!0;return[a.properties().title,a.properties().description,a.properties().priority].forEach((o=>{if(""===e[o]||void 0===e[o]){const e=o===a.properties().priority?a.form.querySelector('input[name="priority"]').parentElement.parentElement.parentElement:a.form[o].parentElement;K("error",e,"This field is required"),t=!1}})),t})(t)&&(I.setTask(new S(t)),I.updateDataTask(),Q())},U={registerEventsForm:()=>{a.form.addEventListener("submit",z),a.form.addEventListener("input",X)},removeEventsForm:()=>{a.form.removeEventListener("submit",z),a.form.removeEventListener("input",X)},registerEventsEdit:()=>{a.modalEdit.addEventListener("click",G),a.formEdit.addEventListener("input",O),a.formEdit.addEventListener("paste",F),a.formEdit.addEventListener("change",Y)},removeEventsEdit:()=>{a.modalEdit.removeEventListener("click",G),a.formEdit.removeEventListener("input",O),a.formEdit.removeEventListener("paste",F),a.formEdit.removeEventListener("change",Y)}},W=(()=>{const e=(e,t,a=()=>{},o="task__remove")=>{e&&e.classList.add(o),K("notification",document.body,t),a()},t=(e,t=()=>{})=>{e.setValueNew(!0),t()},o=(e,t)=>{switch(e){case 1:t.classList.add("btn__priority__hight");break;case 2:t.classList.add("btn__priority__medium");break;case 3:t.classList.add("btn__priority__low")}},s={openMenu:({target:e})=>{const t=a.board.querySelector(".actived-menu");if(t)t&&r(t,"actived-menu","disabled");else{const t=e.nextElementSibling;r(t,"disabled","actived-menu")}},view:({selectedTask:e})=>{a.modalEdit.dataset.task=e.id,n(a.modalEdit),n(a.overlay),ee(e.status),(e=>{const t=y(L);for(const a in t){const t=a.split("-")[1];void 0!==e[t]&&(L[a].value=e[t])}q(e),M(e)})(I.currentTask(a.modalEdit.dataset.task)),a.formEdit.querySelectorAll("TEXTAREA").forEach((e=>{m(e)})),a.subtmitBtnEdit.disabled=!0,U.registerEventsEdit()},completed:({modalConfirm:a,task:o,selectedTask:s})=>{a("Do you want to mark this task as completed?","Yes","Cancel",(async()=>{e(o,"Task marked as completed!"),await u(1e3),t(s,(()=>s.markAsCompleted()))}),(()=>{}))},deleteTask:({modalConfirm:t,task:a,selectedTask:o})=>{t("Are you sure you want to delete this task?","Yes","Cancel",(async()=>{e(a,"Task removed from the dashboard!",(()=>o.delete(a))),await u(1e3),a.remove(),se()}),(()=>{}))},switchStatus:({modalConfirm:o,task:s,selectedTask:n})=>{o("Which status would you like to assign?","Pending","In Progress",(async()=>{n.getStatus()!==a.pending()&&(e(s,`Task status changed to ${i(a.pending())}!`),await u(1e3),t(n,(()=>n.switchStatus(a.pending()))))}),(async()=>{n.getStatus()!==a.progress()&&(e(s,`Task status changed to In ${i(a.progress())}!`),await u(1e3),t(n,(()=>n.switchStatus(a.progress()))))}),"btn__modify__status")},switchPriority:({modalConfirm:a,task:s,selectedTask:i})=>{const n=i.dataPriority(),d=n.map((e=>"High"===e?1:"Medium"===e?2:"Low"===e?3:void 0));a("What new priority would you like to assign?",n[0],n[1],(async()=>{e(s,`The priority has been changed to ${n[0]}!`),await u(1e3),t(i,(()=>i.switchPriority(d[0])))}),(async()=>{e(s,`The priority has been changed to ${n[1]}!`),await u(1e3),t(i,(()=>i.switchPriority(d[1])))}),void 0,!0,(e=>o(d[0],e)),(e=>o(d[1],e)))},addNote:({modalNotes:e,selectedTask:t})=>{e(t)},openNote:({popupNotes:e,note:t,selectedTask:a})=>{e(a.viewNote(t))},deleteNote:({modalConfirm:t,note:a,selectedTask:o})=>{t("Are you sure you want to delete this note?","Yes","Cancel",(async()=>{e(a,"Note removed from the dashboard!","","disappear"),await u(1e3),o.deleteNote(a)}),(()=>{}))},addTask:()=>{n(a.modal),n(a.overlay),U.registerEventsForm()},goTop:()=>{_(a.btnAdd)},clearBoard:t=>{I.getTask().length<=0||t("Are you sure you want to clear your board? All your tasks will be removed","Yes","Cancel",(async()=>{e("","All the notes have been removed from the dashboard!",(async()=>{await u(500),I.clearTask(),I.updateDataTask(),se()}))}),(()=>{}))},resetFilter:()=>{Array.from(a.formFilter.querySelectorAll("SELECT")).some((e=>""!==e.value))&&(a.formFilter.reset(),I.printTask())}};return{getAction:()=>s}})(),j=W,J=e=>{e.classList.toggle("modal__anim__close"),a.overlay.classList.toggle("overlay__close"),setTimeout((()=>{e.classList.toggle("modal__anim__close"),a.overlay.classList.toggle("overlay__close"),d(a.overlay),d(e);const t=e.querySelectorAll(".error");if(t.length>0&&t.forEach((e=>e.remove())),e===a.modal)return a.form.reset(),void U.removeEventsForm();e!==a.modalEdit?e.remove():U.removeEventsEdit()}),300)},K=(e,t,a)=>{const o=t.querySelector(".error")||t.querySelector(".notification");o&&o.remove();const s=document.createElement("P");switch(e){case"error":s.classList.add("error");break;case"notification":s.classList.add("notification")}s.textContent=a,setTimeout((()=>s.remove()),4e3),t.appendChild(s)},Q=()=>{a.form.reset(),K("notification",document.body,"Task added successfully!"),J(a.modal),se()},Z=()=>{K("notification",document.body,"Task edited successfully!"),J(a.modalEdit)},ee=e=>{"completed"===e?a.modalEdit.classList.add("update__modal__edit"):a.modalEdit.classList.contains("update__modal__edit")&&a.modalEdit.classList.remove("update__modal__edit")},te=e=>{n(a.overlay);const t=e.getNotes(),o=p("SPAN","modal__notes__close","X"),s=p("P","modal__notes__text"),i=p("TEXTAREA"),d=p("BUTTON","btn","Save Note"),r=p("DIV","modal__notes__btn","","","",d);i.placeholder="Write your note here!",s.textContent=e.getNotes()>=1?`Currently, you have ${t} notes saved. Would you like one more?`:"Currently, you don't have any notes saved. Would you like to add your first note?";const l=p("DIV","modal__notes","","","",o,s,i,r);i.oninput=()=>{i.value=c(i.value,a.maxLengthNote(),!0,r)},d.onclick=()=>{""!==i.value.trim()?(e.pushNote(i.value.trim()),J(l),K("notification",document.body,"Note successfully added to this task!")):K("error",r,"This field is requerid")},o.onclick=()=>{J(l)},document.body.appendChild(l)},ae=e=>{n(a.overlay);const t=p("P","modal__notes__text modal__notes__text__popup",e),o=p("SPAN","modal__notes__close","X"),s=p("DIV","modal__notes modal__notes__modify","","","",t,o);o.onclick=()=>{J(s)},document.body.appendChild(s)},oe=(e,t,o,s,i,d="",r=!1,l=null,c=null)=>{n(a.overlay);const u=p("P","",e),m=p("BUTTON","btn modal__confirm__btn__yes",t),_=p("BUTTON",`btn modal__confirm__btn__cancel ${d}`,o),h=p("SPAN","modal__confirm__close","X"),g=p("DIV","modal__confirm__btn","","","",m,_),f=p("DIV","modal__confirm","","","",u,g,h);r&&(l(m),c(_)),m.onclick=()=>{s(m),J(f)},_.onclick=()=>{i(_),J(f)},h.onclick=()=>{J(f)},document.body.appendChild(f)},se=()=>{I.getTask().length>=1?a.defaultMessage.className="disabled":a.defaultMessage.className="active"};let ie=0;const ne=()=>{if(ie>=60){let e=!1;I.getTask().forEach((t=>{if(t.completedDuedate){const a=f(t.completedDuedate);a.days<=0&&a.hours<=0&&a.minutes<=0&&a.seconds<=0&&(t.status="completed",t.dateCompleted=g(),t.setValueNew(!0),K("notification",document.body,`Task ${c(t.title,10)} has expired and has been marked as completed`),e=!0)}})),e&&I.updateDataTask(),ie=0}ie++,I.isRenderingControl()&&requestAnimationFrame(ne)};document.addEventListener("DOMContentLoaded",(function(){(async()=>{const e="Your task manager",t="Create and manage",o="Achieve your goals",s=(e,t)=>{for(let a=0;a<e.length;a++)setTimeout((()=>{const o=document.createElement("span");o.textContent=e[a],o.classList.add("appear"),t.appendChild(o)}),30*a)};s(e,a.titlesHeader[0]),await u(510),s(t,a.titlesHeader[1]),await u(510),s(o,a.titlesHeader[2]),await u(2700),h(a.titlesHeader),a.titlesHeader[0].textContent=e,a.titlesHeader[1].textContent=t,a.titlesHeader[2].textContent=o})(),se(),(()=>{const e=new Date,t=new Date;t.setFullYear(e.getFullYear()+1);const o=e.toISOString().split("T")[0],s=t.toISOString().split("T")[0];a.form.duedate.setAttribute("min",o),a.form.duedate.setAttribute("max",s),a.formEdit["edit-duedate"].setAttribute("min",o),a.formEdit["edit-duedate"].setAttribute("max",s)})(),I.printTask(),a.board.addEventListener("click",de),document.body.addEventListener("click",re),a.boardPanel.addEventListener("click",le)}));const de=e=>{const t=e.target,a=t.closest(".task");if(!a)return;const o=t.dataset?.action||t.closest("[data-action]")?.dataset?.action||"",s=I.currentTask(a.dataset.id),i=j.getAction();if(a&&!o&&i.view({selectedTask:s}),!o)return;if(!i.hasOwnProperty(o))return;const n=t.closest(".task__notes__block")||"";i[o]({modalConfirm:oe,popupNotes:ae,modalNotes:te,target:t,task:a,selectedTask:s,note:n})},re=e=>{const t=a.board.querySelector(".actived-menu"),o=e.target;if(t&&o.dataset.action!==a.actions().openMenu&&r(t,"actived-menu","disabled"),o){if(o===a.overlay){const e=document.querySelector(".modal__confirm"),t=document.querySelector(".modal__notes");"block"===a.modal.style.display&&J(a.modal),"block"===a.modalEdit.style.display&&J(a.modalEdit),e&&J(e),t&&J(t)}o===a.btnAdd&&(n(a.modal),n(a.overlay),U.registerEventsForm()),"block"===a.modal.style.display&&o.classList.contains("modal__close")&&J(a.modal),"block"===a.modalEdit.style.display&&o.classList.contains("modal__close")&&J(a.modalEdit)}},le=e=>{const t=e.target,a=t.dataset?.action||t.closest("[data-action]")?.dataset?.action||"",o=j.getAction();a&&o.hasOwnProperty(a)&&o[a](oe)},ce=e=>(a.formFilter.filterStatus.value||e.status)===e.status,ue=e=>(Number(a.formFilter.filterPriority.value)||e.priority)===e.priority,me=e=>{const t=a.formFilter.filterDate.value,o=new Date(e.sortDate).setHours(0,0,0,0),s=(new Date).setHours(0,0,0,0),i=new Date(s);i.setDate(i.getDate()-7);const n=new Date(s);switch(n.setDate(n.getDate()-30),t){case"today":return o===s;case"week":return console.log(i),o>=i&&o<=s;case"month":return o>=n&&o<=s;case"before-month":return o<n;default:return!0}};a.formFilter.addEventListener("change",(()=>{if(0===I.getTask().length)return;const e=I.getTask().filter(ce).filter(ue).filter(me);0===e.length&&K("notification",document.body,"No results found. Try another search or reset the filters"),I.printTask(e)}))})();
//# sourceMappingURL=main.js.map